# [Gold III] 사다리 - 2528 

[문제 링크](https://www.acmicpc.net/problem/2528) 

### 성능 요약

메모리: 115892 KB, 시간: 208 ms

### 분류

구현(implementation), 수학(math), 시뮬레이션(simulation)

### 문제 설명

<p>여러 층으로 이루어진 직사각형 모양의 건물이 있다. 아래 그림 1은 5개의 층으로 이루어진 직사각형 건물의 예이다. 각 층에는 하나의 막대기가 있는데, 각 막대기의 길이는 서로 다를 수 있다. 그리고 막대기들은 시간 0에서 시작해서 동시에 왼쪽에서 오른쪽으로 혹은 오른쪽에서 왼쪽으로 움직인다. 시간은 정수시간 단위(0, 1, 2, ...)로 흐르고, 모든 막대기들은 단위시간당 길이 1만큼 움직인다. </p>

<p>아래 그림 1에서처럼 초기(시간 0)에 각 막대기는 직사각형의 왼쪽 변 또는 오른쪽 변에 닿아있다. 시간이 지남에 따라 각 막대기는 주어진 방향으로 움직이고 막대기의 양쪽 끝 중에 하나가 직사각형의 왼쪽 변 또는 오른쪽 변에 닿으면 진행하는 방향과 반대 방향으로 계속해서 움직인다. </p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/48ede751-92c8-4a2a-acfc-c79dc6160217/-/preview/" style="width: 230px; height: 162px;"></p>

<p style="text-align: center;">그림 1. 시간 0 (초기상태)</p>

<p>철수(그림 1의 검정색 원)는 초기에 가장 아래층막대기 위에 위치하고 있다. 그리고 아래<strong> 조건 1)</strong>을 만족하면서 현재 막대기 위에서 움직일 수 있고, <strong>조건 2)</strong>를 만족한다면, 하나 위층의 막대기로 올라 갈 수 있다. </p>

<p><strong>조건 1)</strong> 현재 위치하고 있는 막대기 위에서는 0시간에 움직일 수 있다. (즉, 막대기 위에서의 움직임은 시간이 걸리지 않는다.)</p>

<p><strong>조건 2)</strong> 철수가 현재 위치하고 있는 막대기의 임의의 위치에서 수직으로 이동 했을 때, 바로 위 층의 막대기 구간 안에 있으면(구간의 양쪽 끝 포함) 0시간에 바로 위 층의 막대기로 수직으로 올라갈 수 있다. (즉, 이 조건을 만족해서 하나 위층으로 올라 갈 수 있다면, 올라가는 움직임은 시간이 걸리지 않는다.)</p>

<p>예를 들어서, 아래 그림 2에서처럼 철수는 시간 2에 두 번째 층을 지나 세 번째 층의 막대기로 움직일 수 있다. 그리고 그림 3에서처럼 시간 4에 네 번째 층을 지나 다섯 번째 층의 막대기에 도달할 수 있다. </p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/d8cbf23a-14e6-433e-bef1-2252f62b46d6/-/preview/" style="width: 203px; height: 162px;"></p>

<p style="text-align: center;">그림 2. 시간 2</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/48f599dd-fa5b-40ea-8199-f9451509f4de/-/preview/" style="width: 203px; height: 160px;"></p>

<p style="text-align: center;">그림 3. 시간 4</p>

<p>시간 0의 초기 상태에서 출발해서 철수가 가장 아래층의 막대기에서 가장 위층의 막대기로 올라가는데 걸리는 최소 시간을 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 번째 줄에 층 수 N (1 ≤ N ≤ 3,000)과 층의 길이 L (1 ≤ L ≤ 3,000, L은 짝수)이 주어진다. 가장 아래층은 1층이고 가장 위층은 N층이다. 다음 N개의 줄 중 i번째 줄에는 i층의 막대기의 길이 l (1< ≤ l ≤ L, l은 짝수)과 초기에 막대기가 움직이는 방향 d (d = 0,1)가 주어진다. 여기서, d의 값 0은 왼쪽에서 오른쪽, 1은 오른쪽에서 왼쪽을 의미한다. 또한 초기에 막대기들은 방향이 0인 경우 층의 왼쪽 벽에, 1인 경우 층의 오른쪽 벽에 닿아 있다고 가정한다.</p>

### 출력 

 <p>첫째 줄에 철수가 가장 아래층 막대기에서 가장 위층 막대기로 올라가는데 걸리는 최소 시간을 하나의 정수로 출력한다.</p>

