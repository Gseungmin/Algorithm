# [Gold IV] 고인물이 싫어요 - 25187 

[문제 링크](https://www.acmicpc.net/problem/25187) 

### 성능 요약

메모리: 127784 KB, 시간: 476 ms

### 분류

자료 구조(data_structures), 분리 집합(disjoint_set), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### 문제 설명

<p>재형이는 청정수를 좋아하고 고인물을 싫어한다. 오늘도 청정수를 구하기 위해 물탱크들이 있는 마을에 방문한다.</p>

<p>마을에는 $N$개의 물탱크가 존재하고, 각 물탱크는 청정수 또는 고인물을 저장하고 있다. 그리고 물탱크는 공급의 편의를 위해 $M$개의 파이프로 서로 연결되어 있다.</p>

<p>청정수를 얻기 위해 $K$번 물탱크에 방문했을 때, $K$번 물탱크와 $K$번 물탱크에서 $0$개 이상의 파이프를 거쳐 이동 가능한 물탱크 중, <strong>청정수가 담긴 물탱크의 수가 고인물이 담긴 물탱크의 수보다 더 많은 경우</strong> 청정수를 얻을 수 있다.</p>

<p>방문할 예정인 물탱크에 대한 정보가 주어질 때마다, 청정수를 얻을 수 있는지 구해보자. </p>

### 입력 

 <p>첫째 줄에 물탱크의 수 $N(1 \leq N \leq 100\,000)$과 파이프의 수 $M(0 \leq M \leq 200\,000)$, 그리고 물탱크에 방문할 횟수 $Q(1 \leq Q \leq 100\,000)$가 주어진다. </p>

<p>둘째 줄에 $1$번부터 $N$번 물탱크까지 순서대로 들어있는 물의 종류가 주어진다. 청정수는 <span style="color:#e74c3c;"><code>1</code></span>, 고인물은 <span style="color:#e74c3c;"><code>0</code></span>으로 주어진다. </p>

<p>다음 $3$번째부터 $M+2$번째 줄까지 파이프가 연결하는 두 물탱크의 번호 $u, v(1\leq u, v \leq N, u \neq v)$가 주어진다. 같은 두 물탱크를 연결하는 파이프가 여러 개 존재할 수 있다. </p>

<p>$M+3$번째부터 $M+Q+2$번째 줄까지 방문할 물탱크의 번호 $K(1 \leq K \leq N)$가 주어진다.  </p>

### 출력 

 <p>$Q$개의 줄에 각 물탱크에 방문했을 때 청정수를 얻을 수 있다면 <span style="color:#e74c3c;"><code>1</code></span>을, 아니면 <code><span style="color:#e74c3c;">0</span></code>을 주어진 정보 순서대로 출력한다. </p>

